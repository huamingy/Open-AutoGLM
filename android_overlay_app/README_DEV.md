# ğŸš€ AutoGLM Android App å¼€å‘æŒ‡å—

## å¿«é€Ÿå¼€å‘å·¥ä½œæµ

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å¯ç”¨ADBæ— çº¿è°ƒè¯•
adb tcpip 5555
adb connect 192.168.2.233:5555

# éªŒè¯è¿æ¥
adb devices
```

### 2. å¿«é€Ÿå¼€å‘è„šæœ¬

#### ğŸš€ ä¸€é”®å¼€å‘éƒ¨ç½²

```bash
# æ„å»ºDebugç‰ˆæœ¬å¹¶è‡ªåŠ¨å®‰è£…
quick_dev.bat
```

#### ğŸ” å¿«é€Ÿè¯Šæ–­

```bash
# æ£€æŸ¥è®¾å¤‡ã€æƒé™ã€å®‰è£…çŠ¶æ€ç­‰
quick_diagnose.bat
```

#### ğŸ“¦ æ‰‹åŠ¨å®‰è£…

```bash
# å¤šç§å®‰è£…é€‰é¡¹å’Œæ•…éšœæ’é™¤
manual_install.bat
```

#### ğŸ” æƒé™è®¾ç½®

```bash
# ä¸“é—¨å¤„ç†Androidæƒé™é—®é¢˜
setup_permissions.bat
```

#### ğŸ“Š å®æ—¶æ—¥å¿—æŸ¥çœ‹

```bash
# åœ¨å¦ä¸€ä¸ªç»ˆç«¯çª—å£è¿è¡Œ
dev_log.bat
```

### 3. å¼€å‘æ¨¡å¼ç‰¹æ€§

#### ğŸ”§ Debug ç‰ˆæœ¬ç‰¹æ€§

- **è¯¦ç»†æ—¥å¿—**: æ‰€æœ‰æ“ä½œéƒ½æœ‰è¯¦ç»†æ—¥å¿—è¾“å‡º
- **è°ƒè¯•ç¬¦å·**: å®Œæ•´çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯
- **çƒ­é‡è½½**: ä¿®æ”¹ä»£ç åå¿«é€Ÿé‡æ–°éƒ¨ç½²
- **å¼€å‘æç¤º**: Toast æç¤ºå¼€å‘æ¨¡å¼çŠ¶æ€

#### ğŸ“± å¼€å‘ç•Œé¢å¢å¼º

- **è°ƒè¯•å·¥å…·**: å†…ç½® WebSocket å’Œç½‘ç»œè¯Šæ–­
- **æ—¥å¿—æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºè¿æ¥å’Œæ“ä½œçŠ¶æ€
- **é”™è¯¯æç¤º**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯æ˜¾ç¤º

### 4. é…ç½®æ–‡ä»¶ä¿®æ”¹

#### ğŸ“„ dev_config.properties

```properties
# å¿«é€Ÿä¿®æ”¹æœåŠ¡å™¨å’Œè®¾å¤‡é…ç½®
server_ip=192.168.2.12
server_port=8002
device_ip=192.168.2.233
device_port=5555
```

ä¿®æ”¹åé‡æ–°è¿è¡Œ `quick_dev.bat` å³å¯ç”Ÿæ•ˆã€‚

### 5. å¼€å‘è°ƒè¯•æŠ€å·§

#### ğŸ” WebView è°ƒè¯•

```bash
# Chromeæµè§ˆå™¨è°ƒè¯•Webç•Œé¢
# è®¿é—®: chrome://inspect/#devices
# é€‰æ‹©ä½ çš„Androidè®¾å¤‡å³å¯è°ƒè¯•WebView
```

#### ğŸ“Š ADB æ—¥å¿—è¿‡æ»¤

```bash
# åªæŸ¥çœ‹åº”ç”¨ç›¸å…³æ—¥å¿—
adb logcat | findstr -i "autoglm"

# æŸ¥çœ‹WebSocketè¿æ¥æ—¥å¿—
adb logcat | findstr -i "websocket"
```

#### ğŸš¨ å¸¸è§é—®é¢˜è§£å†³

##### Q: æ„å»ºé€Ÿåº¦æ…¢

A: ä½¿ç”¨ `quick_dev.bat`ï¼Œå®ƒä¼šä½¿ç”¨ `--parallel` å¹¶è¡Œæ„å»º

##### Q: è®¾å¤‡è¿æ¥å¤±è´¥

A: æ£€æŸ¥ IP åœ°å€å’Œç«¯å£ï¼Œç¡®è®¤ USB è°ƒè¯•å·²å¼€å¯

##### Q: æ—¥å¿—çœ‹ä¸åˆ°

A: ç¡®ä¿åº”ç”¨åœ¨ Debug æ¨¡å¼ä¸‹è¿è¡Œï¼Œä¸”æ—¥å¿—æ ‡ç­¾æ­£ç¡®

##### Q: å®‰è£…å¤±è´¥ "User rejected permissions"

A: è¿è¡Œ `quick_diagnose.bat` æ£€æŸ¥çŠ¶æ€ï¼Œç„¶åä½¿ç”¨ `manual_install.bat` é€‰æ‹©å®‰è£…æ–¹å¼

##### Q: åº”ç”¨æ— æ³•å¯åŠ¨

A: æ£€æŸ¥æƒé™è®¾ç½®ï¼Œè¿è¡Œ `setup_permissions.bat`

##### Q: WebSocket è¿æ¥å¤±è´¥

A: ç¡®ä¿æœåŠ¡å™¨è¿è¡Œåœ¨ `ws://192.168.2.12:8002/ws`ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥

##### Q: æ‚¬æµ®çª—ä¸æ˜¾ç¤º

A: ç¡®è®¤æ— éšœç¢æœåŠ¡å·²å¯ç”¨ï¼šè®¾ç½® -> æ— éšœç¢ -> AutoGLM Overlay

##### Q: æ„å»ºå¤±è´¥

A: æ£€æŸ¥ Java ç‰ˆæœ¬ï¼Œæ¸…ç†ç¼“å­˜ï¼š`gradlew.bat clean`ï¼Œç„¶åé‡æ–°æ„å»º

### 6. ç‰ˆæœ¬æ§åˆ¶

#### ğŸ“¦ æ„å»ºç±»å‹

- **Debug**: `gradlew assembleDebug` - å¼€å‘ç”¨ï¼Œæ—¥å¿—è¯¦ç»†
- **Release**: `gradlew assembleRelease` - å‘å¸ƒç”¨ï¼Œä¼˜åŒ–æ€§èƒ½

#### ğŸ”„ ç‰ˆæœ¬æ›´æ–°

ä¿®æ”¹ `build.gradle` ä¸­çš„ `versionCode` å’Œ `versionName`

### 7. æ€§èƒ½ä¼˜åŒ–

#### âš¡ å¼€å‘ç¯å¢ƒä¼˜åŒ–

- ç¦ç”¨æ··æ·† (`minifyEnabled false`)
- å¯ç”¨è°ƒè¯•ç¬¦å· (`debuggable true`)
- ä½¿ç”¨æ„å»ºç¼“å­˜

#### ğŸ“ˆ æ„å»ºåŠ é€Ÿ

```bash
# ä½¿ç”¨Gradle daemon
gradlew.bat --daemon

# å¹¶è¡Œæ„å»º
gradlew.bat assembleDebug --parallel

# å¢é‡æ„å»º (åªæ„å»ºå˜æ›´éƒ¨åˆ†)
gradlew.bat assembleDebug
```

### 8. æµ‹è¯•æµç¨‹

#### ğŸ§ª åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] WebSocket è¿æ¥
- [ ] å¿ƒè·³åŒ…æœºåˆ¶
- [ ] æ‚¬æµ®çª—æ˜¾ç¤º
- [ ] AI å‘½ä»¤æ‰§è¡Œ
- [ ] é”™è¯¯å¤„ç†

#### ğŸ”„ å¿«é€Ÿè¿­ä»£

1. ä¿®æ”¹ä»£ç 
2. è¿è¡Œ `quick_dev.bat`
3. æŸ¥çœ‹æ—¥å¿— `dev_log.bat`
4. æµ‹è¯•åŠŸèƒ½
5. é‡å¤æ­¥éª¤ 1

### 9. éƒ¨ç½²å‘å¸ƒ

#### ğŸ“± å‘å¸ƒæµç¨‹

```bash
# 1. æ„å»ºReleaseç‰ˆæœ¬
gradlew.bat assembleRelease

# 2. ç­¾åAPK
# (å·²æœ‰sign_apk.batè„šæœ¬)

# 3. å®‰è£…æµ‹è¯•
adb install -r android_overlay_app-release-signed.apk

# 4. æœ€ç»ˆéªŒè¯
```

### 10. å¼€å‘å·¥å…·

#### ğŸ› ï¸ æ¨èå·¥å…·

- **Android Studio**: å®Œæ•´çš„ IDE å¼€å‘ç¯å¢ƒ
- **ADB**: å‘½ä»¤è¡Œè°ƒè¯•å·¥å…·
- **Chrome DevTools**: WebView è°ƒè¯•
- **Logcat**: Android æ—¥å¿—æŸ¥çœ‹

#### ğŸ“š å­¦ä¹ èµ„æº

- [Android å¼€å‘è€…æ–‡æ¡£](https://developer.android.com/)
- [ADB å‘½ä»¤å‚è€ƒ](https://developer.android.com/studio/command-line/adb)
- [WebView è°ƒè¯•æŒ‡å—](https://developers.google.com/web/tools/chrome-devtools/remote-debugging)

---

## ğŸ¯ ç›®æ ‡ï¼š5 åˆ†é’Ÿå¼€å‘è¿­ä»£å‘¨æœŸ

é€šè¿‡è¿™äº›å·¥å…·å’Œè„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥å°† Android åº”ç”¨çš„å¼€å‘è¿­ä»£å‘¨æœŸç¼©çŸ­åˆ°**5 åˆ†é’Ÿ**ï¼š

1. **ä¿®æ”¹ä»£ç ** (1 åˆ†é’Ÿ)
2. **è¿è¡Œè„šæœ¬** (2 åˆ†é’Ÿ)
3. **æµ‹è¯•éªŒè¯** (2 åˆ†é’Ÿ)

å‘Šåˆ«ç¹ççš„å®‰è£…æµ‹è¯•æµç¨‹ï¼Œä¸“æ³¨äºåŠŸèƒ½å¼€å‘ï¼ ğŸš€
